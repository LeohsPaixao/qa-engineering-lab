"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[17],{3023:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var t=n(3696);const a={},o=t.createContext(a);function r(e){const s=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:s},e.children)}},4921:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Tests/RestAssured/tests-types","title":"\ud83e\uddea Tipos de Testes","description":"\ud83d\udccb Vis\xe3o Geral","source":"@site/docs/Tests/RestAssured/tests-types.mdx","sourceDirName":"Tests/RestAssured","slug":"/Tests/RestAssured/tests-types","permalink":"/qa-solar/docs/docs/Tests/RestAssured/tests-types","draft":false,"unlisted":false,"editUrl":"https://github.com/LeohsPaixao/qa-solar/tree/main/docs/docs/Tests/RestAssured/tests-types.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"Sidebar","previous":{"title":"\ud83d\udcc2 Projeto","permalink":"/qa-solar/docs/docs/Tests/RestAssured/project"},"next":{"title":"\ud83d\udcca Relat\xf3rios e Cobertura","permalink":"/qa-solar/docs/docs/Tests/RestAssured/report-coverage"}}');var a=n(2540),o=n(3023);const r={sidebar_position:3},d="\ud83e\uddea Tipos de Testes",i={},c=[{value:"\ud83d\udccb Vis\xe3o Geral",id:"-vis\xe3o-geral",level:2},{value:"\ud83d\udd04 Testes de API com BDD",id:"-testes-de-api-com-bdd",level:2},{value:"\ud83c\udfaf Objetivo",id:"-objetivo",level:3},{value:"\ud83d\udcca  Cobertura Atual",id:"--cobertura-atual",level:3},{value:"\ud83d\udee0\ufe0fCaracteristicas Tecnicas",id:"\ufe0fcaracteristicas-tecnicas",level:3},{value:"Exemplos de Features",id:"exemplos-de-features",level:2},{value:"Autenticacao (auth.feature)",id:"autenticacao-authfeature",level:3},{value:"Criacao de Usuario (create_user.feature)",id:"criacao-de-usuario-create_userfeature",level:3},{value:"Listagem de Usuarios (list_users.feature)",id:"listagem-de-usuarios-list_usersfeature",level:3},{value:"Exclusao de Usuario (delete_user.feature)",id:"exclusao-de-usuario-delete_userfeature",level:3},{value:"Implementacao dos Steps",id:"implementacao-dos-steps",level:2},{value:"Steps Comuns (StepsDefinitions.java)",id:"steps-comuns-stepsdefinitionsjava",level:3},{value:"Validacao de JSON Schema",id:"validacao-de-json-schema",level:2},{value:"Estrutura dos Schemas",id:"estrutura-dos-schemas",level:3},{value:"Exemplo de Schema",id:"exemplo-de-schema",level:3},{value:"\ud83c\udfaf Estrat\xe9gias de Teste",id:"-estrat\xe9gias-de-teste",level:2},{value:"\ud83d\udccb Padr\xf5es de Nomenclatura",id:"-padr\xf5es-de-nomenclatura",level:3},{value:"\ud83d\udd27 Tags de Organizacao",id:"-tags-de-organizacao",level:3},{value:"Hooks e Setup",id:"hooks-e-setup",level:3},{value:"\ud83d\udcca M\xe9tricas de Qualidade",id:"-m\xe9tricas-de-qualidade",level:2},{value:"\ud83c\udfaf Cobertura de Testes",id:"-cobertura-de-testes",level:3},{value:"Tipos de Validacao",id:"tipos-de-validacao",level:3},{value:"Confiabilidade",id:"confiabilidade",level:3}];function l(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"-tipos-de-testes",children:"\ud83e\uddea Tipos de Testes"})}),"\n",(0,a.jsx)(s.h2,{id:"-vis\xe3o-geral",children:"\ud83d\udccb Vis\xe3o Geral"}),"\n",(0,a.jsx)(s.p,{children:"O projeto Rest Assured implementa testes de API utilizando a abordagem BDD (Behavior Driven Development) com Cucumber. Os cenarios sao escritos em linguagem Gherkin, tornando os testes legiveis e servindo como documentacao viva da API."}),"\n",(0,a.jsx)(s.h2,{id:"-testes-de-api-com-bdd",children:"\ud83d\udd04 Testes de API com BDD"}),"\n",(0,a.jsx)(s.h3,{id:"-objetivo",children:"\ud83c\udfaf Objetivo"}),"\n",(0,a.jsx)(s.p,{children:"Os testes de API validam os endpoints REST do backend, garantindo que as respostas estejam corretas em termos de status code, estrutura (schema) e conteudo das mensagens."}),"\n",(0,a.jsx)(s.h3,{id:"--cobertura-atual",children:"\ud83d\udcca  Cobertura Atual"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Autenticacao"}),": Login, logout e validacoes de credenciais"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Usuarios"}),": CRUD completo (Create, Read, Update, Delete)"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Perfil"}),": Obtencao e atualizacao do usuario logado"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Recuperacao de Senha"}),": Fluxo de recuperacao via email"]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"\ufe0fcaracteristicas-tecnicas",children:"\ud83d\udee0\ufe0fCaracteristicas Tecnicas"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Base URL"}),": ",(0,a.jsx)(s.code,{children:"http://localhost:3001"})]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Formato"}),": JSON"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Validacao"}),": JSON Schema para estrutura de responses"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"BDD"}),": Cenarios em Gherkin com Cucumber"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"exemplos-de-features",children:"Exemplos de Features"}),"\n",(0,a.jsx)(s.h3,{id:"autenticacao-authfeature",children:"Autenticacao (auth.feature)"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-gherkin",children:'@api\nFeature: Auth\n  In order to authenticate the user in the system\n  As a user of the QA Solar system\n  I want to be able to do the authentication processes\n\n  Scenario Outline: Login validation\n    When I send a POST request for "/auth/login" with the following body:\n      """\n      { "email": "<email>", "password": "<password>" }\n      """\n    Then the response status code should be <statusCode>\n    And the response should match the "<schema>" schema\n    And the response message should be "<message>"\n\n    Examples:\n      | email               | password | statusCode | message                      | schema              |\n      | generic@example.com |   123456 |        200 | Login realizado com sucesso! | auth/login-success  |\n      | invalid@invalid.com |   123456 |        404 | Usuario nao encontrado.      | auth/login-failure  |\n      | generic@example.com |  1234567 |        401 | A senha nao confere.         | auth/password-wrong |\n\n  Scenario: Logout with success\n    When I send a POST request for "/auth/logout" without body\n    Then the response status code should be 200\n    And the response message should be "O usuario foi deslogado com sucesso!"\n'})}),"\n",(0,a.jsx)(s.h3,{id:"criacao-de-usuario-create_userfeature",children:"Criacao de Usuario (create_user.feature)"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-gherkin",children:'@api\nFeature: User\n  As an authenticated user\n  I should be able to create users\n\n  Scenario: Should be able to create a new user\n    When I create a user with valid data\n    Then the response status code should be 201\n    And the response should match the "user/create_user/create-user-success" schema\n    And the response message should be "Usuario criado com sucesso!"\n\n  Scenario: Should return error when email is duplicated\n    Given there is a user with email "duplicated@example.com"\n    When I send a POST request for "/users" with email for create a new user\n    Then the response status code should be 409\n    And the response should match the "user/create_user/email-duplicated" schema\n    And the response message should be "E-mail ja esta em uso."\n\n  Scenario: Should return error when document is duplicated\n    Given there is a user with document "449.324.480-15"\n    When I send a POST request for "/users" with document for create a new user\n    Then the response status code should be 409\n    And the response should match the "user/create_user/document-duplicated" schema\n    And the response message should be "CPF ou CNPJ ja esta em uso."\n'})}),"\n",(0,a.jsx)(s.h3,{id:"listagem-de-usuarios-list_usersfeature",children:"Listagem de Usuarios (list_users.feature)"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-gherkin",children:'@api\nFeature: Get List of Users\n  As an authenticated user\n  I want to list users\n\n  Scenario: Get list of users when authenticated\n    Given I am authenticated\n    When I send a GET request to "/users"\n    Then the response status code should be 200\n    And the response should match the "user/list_user/list-users-success" schema\n\n  Scenario: Should not retrieve the list of users without authentication\n    When I send a GET request to "/users"\n    Then the response status code should be 401\n    And the response should match the "user/list_user/list-users-failure" schema\n    And the response message should be "Unauthorized"\n'})}),"\n",(0,a.jsx)(s.h3,{id:"exclusao-de-usuario-delete_userfeature",children:"Exclusao de Usuario (delete_user.feature)"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-gherkin",children:'@api\nFeature: Delete User\n  As an authenticated user\n  I should be able to remove users\n\n  Background:\n    Given I am authenticated\n\n  Scenario: Should delete users successfully\n    When there is a user to be deleted\n    And I delete the user\n    Then the response status code should be 200\n    And the response should match the "user/delete_users/delete-user-success" schema\n    And the response message should be "1 usuario(s) excluido(s) com sucesso!"\n\n  Scenario: Should not delete the logged user\n    Given I am authenticated as a user\n    When I try to delete the logged user\n    Then the response status code should be 400\n    And the response should match the "user/delete_users/delete-user-logged" schema\n    And the response message should be "Voce nao pode excluir o usuario logado."\n\n  Scenario: Should return error when no users are found\n    When I try to delete users without providing ids\n    Then the response status code should be 404\n    And the response should match the "user/delete_users/no-provide-ids" schema\n    And the response message should be "Nenhum usuario encontrado para excluir"\n'})}),"\n",(0,a.jsx)(s.h2,{id:"implementacao-dos-steps",children:"Implementacao dos Steps"}),"\n",(0,a.jsx)(s.h3,{id:"steps-comuns-stepsdefinitionsjava",children:"Steps Comuns (StepsDefinitions.java)"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-java",children:'public class StepsDefinitions {\n    private final TestContext context = TestContext.getInstance();\n\n    // ==================== GIVEN ====================\n\n    @Given("I am authenticated")\n    public void iAmAuthenticated() {\n        String body = """\n            {\n              "email": "%s",\n              "password": "%s"\n            }\n            """.formatted(\n            TestConstants.DEFAULT_USER_EMAIL,\n            TestConstants.DEFAULT_PASSWORD);\n\n        Response response = RequestHelper.post(TestConstants.AUTH_LOGIN_ENDPOINT, body);\n        String token = response.jsonPath().getString("token");\n\n        context.setAuthToken(token);\n    }\n\n    // ==================== WHEN ====================\n\n    @When("I send a POST request for {string} with the following body:")\n    public void iSendAPostRequestWithBody(String endpoint, String body) {\n        context.setResponse(RequestHelper.post(endpoint, body));\n    }\n\n    @When("I send a POST request for {string} without body")\n    public void iSendAPostRequestWithoutBody(String endpoint) {\n        context.setResponse(RequestHelper.postWithoutBody(endpoint));\n    }\n\n    @When("I send a GET request to {string}")\n    public void iSendAGetRequestTo(String endpoint) {\n        context.setResponse(RequestHelper.get(endpoint));\n    }\n\n    // ==================== THEN ====================\n\n    @Then("the response status code should be {int}")\n    public void theResponseStatusCodeShouldBe(int expectedStatusCode) {\n        Response response = context.getResponse();\n        int actualStatusCode = response.getStatusCode();\n\n        Assertions.assertEquals(\n            expectedStatusCode,\n            actualStatusCode,\n            String.format("Status code esperado: %d, mas foi: %d",\n                expectedStatusCode, actualStatusCode));\n    }\n\n    // ==================== AND ====================\n\n    @And("the response should match the {string} schema")\n    public void theResponseShouldMatchTheSchema(String schemaPath) {\n        Response response = context.getResponse();\n        String fullSchemaPath = TestConstants.SCHEMA_BASE_PATH + schemaPath\n            + TestConstants.SCHEMA_EXTENSION;\n\n        response.then()\n            .assertThat()\n            .body(matchesJsonSchemaInClasspath(fullSchemaPath));\n    }\n\n    @And("the response message should be {string}")\n    public void theResponseMessageShouldBe(String expectedMessage) {\n        Response response = context.getResponse();\n        String responseBody = response.getBody().asString();\n\n        Assertions.assertTrue(\n            responseBody.contains(expectedMessage),\n            String.format("Resposta nao contem a mensagem esperada: \'%s\'. Body: %s",\n                expectedMessage, responseBody));\n    }\n}\n'})}),"\n",(0,a.jsx)(s.h2,{id:"validacao-de-json-schema",children:"Validacao de JSON Schema"}),"\n",(0,a.jsx)(s.h3,{id:"estrutura-dos-schemas",children:"Estrutura dos Schemas"}),"\n",(0,a.jsx)(s.p,{children:"Os schemas JSON sao organizados por funcionalidade:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-plaintext",children:"resources/schemas/\n\u251c\u2500\u2500 auth/\n\u2502   \u251c\u2500\u2500 login-success.schema.json\n\u2502   \u251c\u2500\u2500 login-failure.schema.json\n\u2502   \u2514\u2500\u2500 password-wrong.schema.json\n\u2514\u2500\u2500 user/\n    \u251c\u2500\u2500 create_user/\n    \u2502   \u251c\u2500\u2500 create-user-success.schema.json\n    \u2502   \u251c\u2500\u2500 email-duplicated.schema.json\n    \u2502   \u2514\u2500\u2500 document-duplicated.schema.json\n    \u251c\u2500\u2500 list_user/\n    \u2502   \u251c\u2500\u2500 list-users-success.schema.json\n    \u2502   \u2514\u2500\u2500 list-users-failure.schema.json\n    \u251c\u2500\u2500 delete_users/\n    \u2502   \u251c\u2500\u2500 delete-user-success.schema.json\n    \u2502   \u251c\u2500\u2500 delete-user-logged.schema.json\n    \u2502   \u2514\u2500\u2500 no-provide-ids.schema.json\n    \u251c\u2500\u2500 update_user/\n    \u2502   \u251c\u2500\u2500 update-user-success.schema.json\n    \u2502   \u2514\u2500\u2500 update-user-failure.schema.json\n    \u2514\u2500\u2500 me/\n        \u251c\u2500\u2500 get-me-success.schema.json\n        \u2514\u2500\u2500 get-me-failure.schema.json\n"})}),"\n",(0,a.jsx)(s.h3,{id:"exemplo-de-schema",children:"Exemplo de Schema"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'{\n  "$schema": "http://json-schema.org/draft-07/schema#",\n  "type": "object",\n  "required": ["message", "token"],\n  "properties": {\n    "message": {\n      "type": "string"\n    },\n    "token": {\n      "type": "string"\n    }\n  }\n}\n'})}),"\n",(0,a.jsx)(s.h2,{id:"-estrat\xe9gias-de-teste",children:"\ud83c\udfaf Estrat\xe9gias de Teste"}),"\n",(0,a.jsx)(s.h3,{id:"-padr\xf5es-de-nomenclatura",children:"\ud83d\udccb Padr\xf5es de Nomenclatura"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Features"}),": Descricao clara da funcionalidade em ingles"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Scenarios"}),": Descricao do comportamento esperado"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Steps"}),": Verbos no imperativo (Given/When/Then)"]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"-tags-de-organizacao",children:"\ud83d\udd27 Tags de Organizacao"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"@api"}),": Tag principal para todos os testes de API"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"@auth"}),": Testes de autenticacao"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"@user"}),": Testes de usuario"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"@smoke"}),": Testes de sanidade"]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"hooks-e-setup",children:"Hooks e Setup"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-java",children:"public class Hooks {\n    @Before\n    public void setUp() {\n        new RestAssuredConfig().config();\n    }\n\n    @After\n    public void tearDown() {\n        TestContext.reset();\n    }\n}\n"})}),"\n",(0,a.jsx)(s.h2,{id:"-m\xe9tricas-de-qualidade",children:"\ud83d\udcca M\xe9tricas de Qualidade"}),"\n",(0,a.jsx)(s.h3,{id:"-cobertura-de-testes",children:"\ud83c\udfaf Cobertura de Testes"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Endpoints"}),": 100% dos endpoints principais cobertos"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Cenarios"}),": 15+ cenarios de teste implementados"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Validacoes"}),": Schema validation para todos os responses"]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"tipos-de-validacao",children:"Tipos de Validacao"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Status Code"}),": Validacao do codigo HTTP de resposta"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Schema"}),": Validacao da estrutura JSON"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Mensagem"}),": Validacao do conteudo da resposta"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Headers"}),": Validacao de headers quando necessario"]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"confiabilidade",children:"Confiabilidade"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Thread-Safe Context"}),": Isolamento entre execucoes paralelas"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Data Generation"}),": Dados unicos para cada execucao"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Error Handling"}),": Logs detalhados em caso de falha"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);